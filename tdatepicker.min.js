!function(a){var c='.tdp-box.tdp-box table,.tdp-box tr,.tdp-box th,.tdp-box td{padding:0;margin:0}.tdp-box{width:176px;margin:0;padding:0;font:12px/24px Tahoma,Arial,"SimSun";box-shadow:1px 2px 2px rgba(0,0,0,0.2)}.tdp-box table{border-collapse:collapse;border-spacing:0}.tdp-week th,.tdp-days td,.tdp-btns td{height:24px;width:24px;border:1px solid #ccc;text-align:center}.tdp-top{height:26px;margin:0;padding:0;border:1px solid #ccc;border-bottom:none;overflow:hidden;*zoom:1}.tdp-prev,.tdp-next{float:left;width:24px;height:20px;font:bold 12px/26px serif;text-align:center;cursor:pointer;user-select:none;-o-user-select:none;-moz-user-select:none;-ms-user-select: none;-webkit-user-select:none}.tdp-next{float:right}.tdp-y,.tdp-m{float:left;height:20px;width:44px;margin:2px 0 0 25px;padding:0;border:1px solid #eee;line-height:20px;text-align:center;outline:0;cursor:pointer}.tdp-m{width:28px;margin-left:0}.tdp-day,.tdp-clear,.tdp-today,.tdp-cancel{cursor:pointer}',d='<div class="tdp-box"><div class="tdp-top"><span class="tdp-prev">&lt;</span><input type="text"class="tdp-y"/><input type="text"class="tdp-m"/><span class="tdp-next">&gt;</span></div><table class="tdp-main"><thead class="tdp-week"><tr><th>日</th><th>一</th><th>二</th><th>三</th><th>四</th><th>五</th><th>六</th></tr></thead><tbody class="tdp-days"></tbody><tfoot class="tdp-btns"><tr><td>T</td><td colspan="2"class="tdp-clear">清空</td><td colspan="2"class="tdp-today">今天</td><td colspan="2"class="tdp-cancel">取消</td></tr></tfoot></table></div>',e={grey:".tdp-box{color:#333;background:#f5f5f5}.tdp-top{background:#eee;}.tdp-y,.tdp-m{background:#eee;border-color:#eee}.tdp-y:focus,.tdp-m:focus{border-color:#aaa;background:#fff}.tdp-day:hover{background:#666;color:#fff}.tdp-cur{background:#333;color:#fff}",white:".tdp-box{color:#333;background:#fff}.tdp-top{background:#f7f7f7}.tdp-y,.tdp-m{background:#f7f7f7;border-color:#f7f7f7}.tdp-y:focus,.tdp-m:focus{border-color:#aaa;background:#fff}.tdp-day:hover{background:#999;color:#fff}.tdp-cur{background:#666;color:#fff}",skyblue:".tdp-box{color:#08c;background:#fff}.tdp-top{background:#b7dffb;border-color:#86ccfe}.tdp-week th,.tdp-days td,.tdp-btns td{border-color:#86ccfe}.tdp-y,.tdp-m{background:#b7dffb;border-color:#b7dffb;color:#076ab1}.tdp-y:focus,.tdp-m:focus{border-color:#08c;background:#fff}.tdp-day:hover{background:#b7dffb}.tdp-cur{background:#3af;color:#fff}"},f=null,g=null,h="tDatePicker",i=!1,j=[31,28,31,30,31,30,31,31,30,31,30,31],k=1970,l=0,m=1,n={theme:"grey",minYear:1900,maxYear:2099},o=function(){var c,d,e,g,h,i,j,b={top:0,left:0};return f&&1===f.nodeType?(h=f&&f.ownerDocument,i=h.documentElement,j=h.body,"undefined"!=typeof f.getBoundingClientRect&&(b=f.getBoundingClientRect()),c=i.clientTop||j.clientTop||0,d=i.clientLeft||j.clientLeft||0,e=a.pageYOffset||i.scrollTop,g=a.pageXOffset||i.scrollLeft,{top:b.top+e-c,left:b.left+g-d}):b},p=function(b,c,d){a.addEventListener?b.addEventListener(c,d,!1):document.attachEvent&&b.attachEvent("on"+c,d)},q=function(b,c,d){a.removeEventListener?b.removeEventListener(c,d,!1):document.detachEvent&&b.detachEvent("on"+c,d)},r=function(){var a=new Date;return{year:a.getFullYear(),month:a.getMonth(),day:a.getDate()}},s=function(a){j[1]=0===a%400||0===a%4&&0!==a%100?29:28},t=function(){var d,e,i,n,a=1,c=new Date(k,l,1).getDay(),h=g.getElementsByTagName("tbody")[0];for(s(k),m>j[l]&&(m=j[l]),i=h.childNodes.length-1;i>=0;i--)h.removeChild(h.childNodes[i]);for(d=document.createElement("tr"),i=0;7>i;i++)e=document.createElement("td"),c>i?e.className="tdp-empty":(e.className="tdp-day"+(a==m?" tdp-cur":""),""==e.textContent?e.textContent=a++:e.innerText=a++),d.appendChild(e);for(h.appendChild(d);a<=j[l];){for(d=document.createElement("tr"),i=0;7>i;i++)e=document.createElement("td"),a<=j[l]?(e.className="tdp-day"+(a==m?" tdp-cur":""),""==e.textContent?e.textContent=a++:e.innerText=a++):e.className="tdp-empty",d.appendChild(e);h.appendChild(d)}for(n=y("tdp-day","td",g),i=0;i<n.length;i++)n[i].onclick=function(){m=parseInt(this.innerHTML),"undefined"!=typeof f.value&&(f.value=w()),u()};y("tdp-y","input",g)[0].value=k,y("tdp-m","input",g)[0].value=l+1},u=function(){g.style.display="none",q(document,"click",u),q(f,"click",v)},v=function(b){b=b||a.event,"function"==typeof b.stopPropagation?b.stopPropagation():b.cancelBubble=!0},w=function(){return k+"-"+(9>l?0:"")+(l+1)+"-"+(10>m?0:"")+m},x=function(a){return document.getElementById(a)},y=function(a,b,c){var d,e,f,g;if(c=c||document,b=b||"*",document.getElementsByClassName)return c.getElementsByClassName(a);for(d="*"===b&&c.all?c.all:c.getElementsByTagName(b),e=new RegExp("(^|\\s)"+a+"(\\s|$)"),f=[],g=0;g<d.length;g++)e.test(d[g].className)&&f.push(d[g]);return f},z=function(){var a,b,j,o,q;i=!0,a=document.createElement("style"),a.type="text/css",a.styleSheet?a.styleSheet.cssText=c+e[n.theme]:a.innerHTML=c+e[n.theme],b=document.createElement("div"),b.id=h,b.innerHTML=d,document.body.appendChild(a),document.body.appendChild(b),g=x(h),j=r(),k=j.year,l=j.month,m=j.day,p(g,"click",v),o=y("tdp-y","input",g)[0],q=y("tdp-m","input",g)[0],p(o,"click",function(){o.select()}),p(q,"click",function(){q.select()}),p(o,"blur",function(){k=isNaN(parseInt(o.value))?k:parseInt(o.value),k=k>n.maxYear?n.maxYear:k<n.minYear?n.minYear:k,t()}),p(q,"blur",function(){l=isNaN(parseInt(q.value))?l:parseInt(q.value)-1,l=l>11?11:0>l?0:l,t()}),p(y("tdp-prev","span",g)[0],"click",function(){0>l-1?k==n.minYear?m=1:(l=11,k--):l--,t()}),p(y("tdp-next","span",g)[0],"click",function(){l+1>11?k==n.maxYear?m=31:(l=0,k++):l++,t()}),p(y("tdp-clear","td",g)[0],"click",function(){"undefined"!=typeof f.value&&(f.value=""),u()}),p(y("tdp-today","td",g)[0],"click",function(){j=r(),k=j.year,l=j.month,m=j.day,t(),"undefined"!=typeof f.value&&(f.value=w()),u()}),p(y("tdp-cancel","td",g)[0],"click",function(){u()})},A=function(a){if(a&&1===a.nodeType){f=a,i||z(),t();var b=o(f);g.style.position="absolute",g.style.top=b.top+f.offsetHeight+"px",g.style.left=b.left+"px",g.style.display="block",p(f,"click",v),p(document,"click",u)}};A.set=function(a){if("undefined"!=typeof a){!a.theme||"grey"!=a.theme&&"white"!=a.theme&&"skyblue"!=a.theme||(n.theme=a.theme);var b=a.minYear&&!isNaN(parseInt(a.minYear))?parseInt(a.minYear):n.minYear,c=a.maxYear&&!isNaN(parseInt(a.maxYear))?parseInt(a.maxYear):n.maxYear;c>=b&&(n.minYear=b,n.maxYear=c)}},a.tDatePicker=A}(window);